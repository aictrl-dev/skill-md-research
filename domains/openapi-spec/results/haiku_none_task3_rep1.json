{
  "run_id": "haiku_none_task3_rep1",
  "model": "haiku",
  "condition": "none",
  "task": "3",
  "task_complexity": "complex",
  "domain": "openapi-spec",
  "rep": 1,
  "timestamp": "2026-02-21T12:00:00+00:00",
  "duration_ms": 0,
  "cli_tool": "claude",
  "raw_output": "{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"duration_ms\":51526,\"duration_api_ms\":51474,\"num_turns\":2,\"result\":\"```yaml\\nopenapi: 3.0.3\\ninfo:\\n  title: Payment Processing Platform API\\n  description: REST API for managing merchants, payments, refunds, and webhooks\\n  version: 1.0.0\\n  contact:\\n    name: API Support\\n  license:\\n    name: Apache 2.0\\n\\nservers:\\n  - url: https://api.payment-platform.com/v1\\n    description: Production server\\n  - url: https://staging-api.payment-platform.com/v1\\n    description: Staging server\\n\\nsecurity:\\n  - OAuth2ClientCredentials: []\\n\\npaths:\\n  /merchants:\\n    get:\\n      tags:\\n        - Merchants\\n      summary: List merchants\\n      operationId: listMerchants\\n      parameters:\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n        - name: status\\n          in: query\\n          description: Filter by merchant status\\n          schema:\\n            type: string\\n            enum: [active, inactive, suspended]\\n      responses:\\n        '200':\\n          description: List of merchants\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Merchant'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '403':\\n          $ref: '#/components/responses/Forbidden'\\n    post:\\n      tags:\\n        - Merchants\\n      summary: Create a new merchant\\n      operationId: createMerchant\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - name\\n                - business_type\\n              properties:\\n                name:\\n                  type: string\\n                  minLength: 1\\n                  maxLength: 255\\n                business_type:\\n                  type: string\\n                  enum: [retail, saas, marketplace, nonprofit, other]\\n      responses:\\n        '201':\\n          description: Merchant created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '409':\\n          $ref: '#/components/responses/Conflict'\\n\\n  /merchants/{merchant_id}:\\n    get:\\n      tags:\\n        - Merchants\\n      summary: Get merchant details\\n      operationId: getMerchant\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Merchant details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n    patch:\\n      tags:\\n        - Merchants\\n      summary: Update merchant\\n      operationId: updateMerchant\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              properties:\\n                name:\\n                  type: string\\n                  minLength: 1\\n                  maxLength: 255\\n                status:\\n                  type: string\\n                  enum: [active, inactive, suspended]\\n      responses:\\n        '200':\\n          description: Merchant updated\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /payments:\\n    get:\\n      tags:\\n        - Payments\\n      summary: List payments\\n      operationId: listPayments\\n      parameters:\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n        - name: merchant_id\\n          in: query\\n          description: Filter by merchant ID\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: status\\n          in: query\\n          description: Filter by payment status\\n          schema:\\n            type: string\\n            enum: [pending, processing, completed, failed, refunded]\\n        - name: created_after\\n          in: query\\n          description: Filter payments created after this timestamp (ISO 8601)\\n          schema:\\n            type: string\\n            format: date-time\\n        - name: created_before\\n          in: query\\n          description: Filter payments created before this timestamp (ISO 8601)\\n          schema:\\n            type: string\\n            format: date-time\\n      responses:\\n        '200':\\n          description: List of payments\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Payment'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '403':\\n          $ref: '#/components/responses/Forbidden'\\n    post:\\n      tags:\\n        - Payments\\n      summary: Create a payment\\n      operationId: createPayment\\n      description: Asynchronously creates a payment. Returns 202 Accepted immediately.\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - merchant_id\\n                - amount\\n                - currency\\n              properties:\\n                merchant_id:\\n                  type: string\\n                  format: uuid\\n                amount:\\n                  type: number\\n                  format: double\\n                  minimum: 0.01\\n                  exclusiveMinimum: true\\n                currency:\\n                  type: string\\n                  enum: [USD, EUR, GBP, CAD, AUD, JPY, CHF, CNY, INR, MXN]\\n                  minLength: 3\\n                  maxLength: 3\\n                idempotency_key:\\n                  type: string\\n                  format: uuid\\n                  description: Unique key for idempotent payment creation\\n                metadata:\\n                  type: object\\n                  additionalProperties: true\\n                  maxProperties: 50\\n      responses:\\n        '202':\\n          description: Payment creation accepted, processing asynchronously\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Payment'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          description: Merchant not found\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        '409':\\n          description: Idempotency conflict - payment already exists\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n\\n  /payments/{payment_id}:\\n    get:\\n      tags:\\n        - Payments\\n      summary: Get payment details\\n      operationId: getPayment\\n      parameters:\\n        - name: payment_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Payment details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Payment'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /refunds:\\n    get:\\n      tags:\\n        - Refunds\\n      summary: List refunds\\n      operationId: listRefunds\\n      parameters:\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n        - name: payment_id\\n          in: query\\n          description: Filter by payment ID\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: status\\n          in: query\\n          description: Filter by refund status\\n          schema:\\n            type: string\\n            enum: [pending, processing, completed, failed]\\n      responses:\\n        '200':\\n          description: List of refunds\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Refund'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '403':\\n          $ref: '#/components/responses/Forbidden'\\n    post:\\n      tags:\\n        - Refunds\\n      summary: Create a refund\\n      operationId: createRefund\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - payment_id\\n                - reason\\n              properties:\\n                payment_id:\\n                  type: string\\n                  format: uuid\\n                amount:\\n                  type: number\\n                  format: double\\n                  minimum: 0.01\\n                  exclusiveMinimum: true\\n                  description: Refund amount. If omitted, full payment amount is refunded.\\n                reason:\\n                  type: string\\n                  enum: [customer_request, duplicate, fraud, product_not_received, product_unacceptable, error, other]\\n                notes:\\n                  type: string\\n                  maxLength: 500\\n      responses:\\n        '201':\\n          description: Refund created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Refund'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          description: Payment not found\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n\\n  /refunds/{refund_id}:\\n    get:\\n      tags:\\n        - Refunds\\n      summary: Get refund details\\n      operationId: getRefund\\n      parameters:\\n        - name: refund_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Refund details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Refund'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /merchants/{merchant_id}/webhooks:\\n    get:\\n      tags:\\n        - Webhooks\\n      summary: List webhooks for a merchant\\n      operationId: listWebhooks\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n      responses:\\n        '200':\\n          description: List of webhooks\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Webhook'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n    post:\\n      tags:\\n        - Webhooks\\n      summary: Create a webhook endpoint\\n      operationId: createWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - url\\n                - events\\n              properties:\\n                url:\\n                  type: string\\n                  format: uri\\n                  description: HTTPS endpoint to receive webhook events\\n                events:\\n                  type: array\\n                  minItems: 1\\n                  items:\\n                    type: string\\n                    enum:\\n                      - payment.created\\n                      - payment.processing\\n                      - payment.completed\\n                      - payment.failed\\n                      - refund.created\\n                      - refund.processing\\n                      - refund.completed\\n                      - refund.failed\\n                secret:\\n                  type: string\\n                  minLength: 32\\n                  description: Shared secret for HMAC signature verification\\n      responses:\\n        '201':\\n          description: Webhook endpoint created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n\\n  /merchants/{merchant_id}/webhooks/{webhook_id}:\\n    get:\\n      tags:\\n        - Webhooks\\n      summary: Get webhook details\\n      operationId: getWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: webhook_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Webhook details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n    patch:\\n      tags:\\n        - Webhooks\\n      summary: Update webhook endpoint\\n      operationId: updateWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: webhook_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              properties:\\n                url:\\n                  type: string\\n                  format: uri\\n                events:\\n                  type: array\\n                  minItems: 1\\n                  items:\\n                    type: string\\n                    enum:\\n                      - payment.created\\n                      - payment.processing\\n                      - payment.completed\\n                      - payment.failed\\n                      - refund.created\\n                      - refund.processing\\n                      - refund.completed\\n                      - refund.failed\\n                is_active:\\n                  type: boolean\\n      responses:\\n        '200':\\n          description: Webhook updated\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n    delete:\\n      tags:\\n        - Webhooks\\n      summary: Delete webhook endpoint\\n      operationId: deleteWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: webhook_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '204':\\n          description: Webhook deleted\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /health:\\n    get:\\n      tags:\\n        - Health\\n      summary: Health check\\n      operationId: healthCheck\\n      security: []\\n      responses:\\n        '200':\\n          description: Service is healthy\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  status:\\n                    type: string\\n                    enum: [healthy]\\n                  timestamp:\\n                    type: string\\n                    format: date-time\\n\\ncomponents:\\n  securitySchemes:\\n    OAuth2ClientCredentials:\\n      type: oauth2\\n      flows:\\n        clientCredentials:\\n          tokenUrl: https://auth.payment-platform.com/oauth2/token\\n          scopes:\\n            merchants:read: Read merchant information\\n            merchants:write: Create and modify merchants\\n            payments:read: Read payment information\\n            payments:write: Create payments\\n            refunds:read: Read refund information\\n            refunds:write: Create refunds\\n            webhooks:read: Read webhook configuration\\n            webhooks:write: Create and modify webhooks\\n\\n  schemas:\\n    Merchant:\\n      type: object\\n      required:\\n        - id\\n        - name\\n        - business_type\\n        - status\\n        - created_at\\n        - updated_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        name:\\n          type: string\\n          minLength: 1\\n          maxLength: 255\\n        business_type:\\n          type: string\\n          enum: [retail, saas, marketplace, nonprofit, other]\\n        status:\\n          type: string\\n          enum: [active, inactive, suspended]\\n          default: active\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Payment:\\n      type: object\\n      required:\\n        - id\\n        - merchant_id\\n        - amount\\n        - currency\\n        - status\\n        - created_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        merchant_id:\\n          type: string\\n          format: uuid\\n        amount:\\n          type: number\\n          format: double\\n          minimum: 0.01\\n        currency:\\n          type: string\\n          minLength: 3\\n          maxLength: 3\\n        status:\\n          type: string\\n          enum: [pending, processing, completed, failed, refunded]\\n          default: pending\\n        idempotency_key:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        metadata:\\n          type: object\\n          additionalProperties: true\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Refund:\\n      type: object\\n      required:\\n        - id\\n        - payment_id\\n        - amount\\n        - reason\\n        - status\\n        - created_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        payment_id:\\n          type: string\\n          format: uuid\\n        amount:\\n          type: number\\n          format: double\\n          minimum: 0.01\\n        reason:\\n          type: string\\n          enum: [customer_request, duplicate, fraud, product_not_received, product_unacceptable, error, other]\\n        notes:\\n          type: string\\n          maxLength: 500\\n        status:\\n          type: string\\n          enum: [pending, processing, completed, failed]\\n          default: pending\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Webhook:\\n      type: object\\n      required:\\n        - id\\n        - merchant_id\\n        - url\\n        - events\\n        - is_active\\n        - created_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        merchant_id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        url:\\n          type: string\\n          format: uri\\n        events:\\n          type: array\\n          items:\\n            type: string\\n          minItems: 1\\n        secret:\\n          type: string\\n          readOnly: true\\n          description: Masked secret for verification\\n        is_active:\\n          type: boolean\\n          default: true\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Pagination:\\n      type: object\\n      required:\\n        - page\\n        - limit\\n        - total\\n        - pages\\n      properties:\\n        page:\\n          type: integer\\n          minimum: 1\\n        limit:\\n          type: integer\\n          minimum: 1\\n        total:\\n          type: integer\\n          minimum: 0\\n        pages:\\n          type: integer\\n          minimum: 0\\n\\n    Error:\\n      type: object\\n      required:\\n        - code\\n        - message\\n        - timestamp\\n      properties:\\n        code:\\n          type: string\\n        message:\\n          type: string\\n        details:\\n          type: object\\n          additionalProperties: true\\n        timestamp:\\n          type: string\\n          format: date-time\\n        request_id:\\n          type: string\\n          format: uuid\\n          description: Unique request identifier for tracking\\n\\n  responses:\\n    BadRequest:\\n      description: Bad request\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    Unauthorized:\\n      description: Unauthorized\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    Forbidden:\\n      description: Forbidden\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    NotFound:\\n      description: Resource not found\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    Conflict:\\n      description: Conflict\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    UnprocessableEntity:\\n      description: Unprocessable entity\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n\\ntags:\\n  - name: Merchants\\n    description: Merchant management\\n  - name: Payments\\n    description: Payment operations\\n  - name: Refunds\\n    description: Refund management\\n  - name: Webhooks\\n    description: Webhook configuration\\n  - name: Health\\n    description: Service health check\\n```\",\"stop_reason\":null,\"session_id\":\"3487ad7e-2001-4036-9816-4ca4fdc6272c\",\"total_cost_usd\":0.0770953,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":8628,\"cache_read_input_tokens\":53453,\"output_tokens\":12191,\"server_tool_use\":{\"web_search_requests\":0,\"web_fetch_requests\":0},\"service_tier\":\"standard\",\"cache_creation\":{\"ephemeral_1h_input_tokens\":8628,\"ephemeral_5m_input_tokens\":0},\"inference_geo\":\"\",\"iterations\":[],\"speed\":\"standard\"},\"modelUsage\":{\"claude-haiku-4-5-20251001\":{\"inputTokens\":10,\"outputTokens\":12191,\"cacheReadInputTokens\":53453,\"cacheCreationInputTokens\":8628,\"webSearchRequests\":0,\"costUSD\":0.0770953,\"contextWindow\":200000,\"maxOutputTokens\":32000}},\"permission_denials\":[{\"tool_name\":\"Write\",\"tool_use_id\":\"toolu_019eTzPvaf9bC9CrG2wNrPTC\",\"tool_input\":{\"file_path\":\"/tmp/payment-api-openapi.yaml\",\"content\":\"openapi: 3.0.3\\ninfo:\\n  title: Payment Processing Platform API\\n  description: REST API for managing merchants, payments, refunds, and webhooks\\n  version: 1.0.0\\n  contact:\\n    name: API Support\\n  license:\\n    name: Apache 2.0\\n\\nservers:\\n  - url: https://api.payment-platform.com/v1\\n    description: Production server\\n  - url: https://staging-api.payment-platform.com/v1\\n    description: Staging server\\n\\nsecurity:\\n  - OAuth2ClientCredentials: []\\n\\npaths:\\n  /merchants:\\n    get:\\n      tags:\\n        - Merchants\\n      summary: List merchants\\n      operationId: listMerchants\\n      parameters:\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n        - name: status\\n          in: query\\n          description: Filter by merchant status\\n          schema:\\n            type: string\\n            enum: [active, inactive, suspended]\\n      responses:\\n        '200':\\n          description: List of merchants\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Merchant'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '403':\\n          $ref: '#/components/responses/Forbidden'\\n    post:\\n      tags:\\n        - Merchants\\n      summary: Create a new merchant\\n      operationId: createMerchant\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - name\\n                - business_type\\n              properties:\\n                name:\\n                  type: string\\n                  minLength: 1\\n                  maxLength: 255\\n                business_type:\\n                  type: string\\n                  enum: [retail, saas, marketplace, nonprofit, other]\\n      responses:\\n        '201':\\n          description: Merchant created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '409':\\n          $ref: '#/components/responses/Conflict'\\n\\n  /merchants/{merchant_id}:\\n    get:\\n      tags:\\n        - Merchants\\n      summary: Get merchant details\\n      operationId: getMerchant\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Merchant details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n    patch:\\n      tags:\\n        - Merchants\\n      summary: Update merchant\\n      operationId: updateMerchant\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              properties:\\n                name:\\n                  type: string\\n                  minLength: 1\\n                  maxLength: 255\\n                status:\\n                  type: string\\n                  enum: [active, inactive, suspended]\\n      responses:\\n        '200':\\n          description: Merchant updated\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /payments:\\n    get:\\n      tags:\\n        - Payments\\n      summary: List payments\\n      operationId: listPayments\\n      parameters:\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n        - name: merchant_id\\n          in: query\\n          description: Filter by merchant ID\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: status\\n          in: query\\n          description: Filter by payment status\\n          schema:\\n            type: string\\n            enum: [pending, processing, completed, failed, refunded]\\n        - name: created_after\\n          in: query\\n          description: Filter payments created after this timestamp (ISO 8601)\\n          schema:\\n            type: string\\n            format: date-time\\n        - name: created_before\\n          in: query\\n          description: Filter payments created before this timestamp (ISO 8601)\\n          schema:\\n            type: string\\n            format: date-time\\n      responses:\\n        '200':\\n          description: List of payments\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Payment'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '403':\\n          $ref: '#/components/responses/Forbidden'\\n    post:\\n      tags:\\n        - Payments\\n      summary: Create a payment\\n      operationId: createPayment\\n      description: Asynchronously creates a payment. Returns 202 Accepted immediately.\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - merchant_id\\n                - amount\\n                - currency\\n              properties:\\n                merchant_id:\\n                  type: string\\n                  format: uuid\\n                amount:\\n                  type: number\\n                  format: double\\n                  minimum: 0.01\\n                  exclusiveMinimum: true\\n                currency:\\n                  type: string\\n                  enum: [USD, EUR, GBP, CAD, AUD, JPY, CHF, CNY, INR, MXN]\\n                  minLength: 3\\n                  maxLength: 3\\n                idempotency_key:\\n                  type: string\\n                  format: uuid\\n                  description: Unique key for idempotent payment creation\\n                metadata:\\n                  type: object\\n                  additionalProperties: true\\n                  maxProperties: 50\\n      responses:\\n        '202':\\n          description: Payment creation accepted, processing asynchronously\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Payment'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          description: Merchant not found\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        '409':\\n          description: Idempotency conflict - payment already exists\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n\\n  /payments/{payment_id}:\\n    get:\\n      tags:\\n        - Payments\\n      summary: Get payment details\\n      operationId: getPayment\\n      parameters:\\n        - name: payment_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Payment details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Payment'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /refunds:\\n    get:\\n      tags:\\n        - Refunds\\n      summary: List refunds\\n      operationId: listRefunds\\n      parameters:\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n        - name: payment_id\\n          in: query\\n          description: Filter by payment ID\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: status\\n          in: query\\n          description: Filter by refund status\\n          schema:\\n            type: string\\n            enum: [pending, processing, completed, failed]\\n      responses:\\n        '200':\\n          description: List of refunds\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Refund'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '403':\\n          $ref: '#/components/responses/Forbidden'\\n    post:\\n      tags:\\n        - Refunds\\n      summary: Create a refund\\n      operationId: createRefund\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - payment_id\\n                - reason\\n              properties:\\n                payment_id:\\n                  type: string\\n                  format: uuid\\n                amount:\\n                  type: number\\n                  format: double\\n                  minimum: 0.01\\n                  exclusiveMinimum: true\\n                  description: Refund amount. If omitted, full payment amount is refunded.\\n                reason:\\n                  type: string\\n                  enum: [customer_request, duplicate, fraud, product_not_received, product_unacceptable, error, other]\\n                notes:\\n                  type: string\\n                  maxLength: 500\\n      responses:\\n        '201':\\n          description: Refund created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Refund'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          description: Payment not found\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Error'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n\\n  /refunds/{refund_id}:\\n    get:\\n      tags:\\n        - Refunds\\n      summary: Get refund details\\n      operationId: getRefund\\n      parameters:\\n        - name: refund_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Refund details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Refund'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /merchants/{merchant_id}/webhooks:\\n    get:\\n      tags:\\n        - Webhooks\\n      summary: List webhooks for a merchant\\n      operationId: listWebhooks\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: page\\n          in: query\\n          description: Page number (1-indexed)\\n          schema:\\n            type: integer\\n            default: 1\\n            minimum: 1\\n        - name: limit\\n          in: query\\n          description: Number of results per page\\n          schema:\\n            type: integer\\n            default: 20\\n            minimum: 1\\n            maximum: 100\\n      responses:\\n        '200':\\n          description: List of webhooks\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  data:\\n                    type: array\\n                    items:\\n                      $ref: '#/components/schemas/Webhook'\\n                  pagination:\\n                    $ref: '#/components/schemas/Pagination'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n    post:\\n      tags:\\n        - Webhooks\\n      summary: Create a webhook endpoint\\n      operationId: createWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              required:\\n                - url\\n                - events\\n              properties:\\n                url:\\n                  type: string\\n                  format: uri\\n                  description: HTTPS endpoint to receive webhook events\\n                events:\\n                  type: array\\n                  minItems: 1\\n                  items:\\n                    type: string\\n                    enum:\\n                      - payment.created\\n                      - payment.processing\\n                      - payment.completed\\n                      - payment.failed\\n                      - refund.created\\n                      - refund.processing\\n                      - refund.completed\\n                      - refund.failed\\n                secret:\\n                  type: string\\n                  minLength: 32\\n                  description: Shared secret for HMAC signature verification\\n      responses:\\n        '201':\\n          description: Webhook endpoint created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n\\n  /merchants/{merchant_id}/webhooks/{webhook_id}:\\n    get:\\n      tags:\\n        - Webhooks\\n      summary: Get webhook details\\n      operationId: getWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: webhook_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '200':\\n          description: Webhook details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n    patch:\\n      tags:\\n        - Webhooks\\n      summary: Update webhook endpoint\\n      operationId: updateWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: webhook_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              type: object\\n              properties:\\n                url:\\n                  type: string\\n                  format: uri\\n                events:\\n                  type: array\\n                  minItems: 1\\n                  items:\\n                    type: string\\n                    enum:\\n                      - payment.created\\n                      - payment.processing\\n                      - payment.completed\\n                      - payment.failed\\n                      - refund.created\\n                      - refund.processing\\n                      - refund.completed\\n                      - refund.failed\\n                is_active:\\n                  type: boolean\\n      responses:\\n        '200':\\n          description: Webhook updated\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n    delete:\\n      tags:\\n        - Webhooks\\n      summary: Delete webhook endpoint\\n      operationId: deleteWebhook\\n      parameters:\\n        - name: merchant_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: webhook_id\\n          in: path\\n          required: true\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        '204':\\n          description: Webhook deleted\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n\\n  /health:\\n    get:\\n      tags:\\n        - Health\\n      summary: Health check\\n      operationId: healthCheck\\n      security: []\\n      responses:\\n        '200':\\n          description: Service is healthy\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                properties:\\n                  status:\\n                    type: string\\n                    enum: [healthy]\\n                  timestamp:\\n                    type: string\\n                    format: date-time\\n\\ncomponents:\\n  securitySchemes:\\n    OAuth2ClientCredentials:\\n      type: oauth2\\n      flows:\\n        clientCredentials:\\n          tokenUrl: https://auth.payment-platform.com/oauth2/token\\n          scopes:\\n            merchants:read: Read merchant information\\n            merchants:write: Create and modify merchants\\n            payments:read: Read payment information\\n            payments:write: Create payments\\n            refunds:read: Read refund information\\n            refunds:write: Create refunds\\n            webhooks:read: Read webhook configuration\\n            webhooks:write: Create and modify webhooks\\n\\n  schemas:\\n    Merchant:\\n      type: object\\n      required:\\n        - id\\n        - name\\n        - business_type\\n        - status\\n        - created_at\\n        - updated_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        name:\\n          type: string\\n          minLength: 1\\n          maxLength: 255\\n        business_type:\\n          type: string\\n          enum: [retail, saas, marketplace, nonprofit, other]\\n        status:\\n          type: string\\n          enum: [active, inactive, suspended]\\n          default: active\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Payment:\\n      type: object\\n      required:\\n        - id\\n        - merchant_id\\n        - amount\\n        - currency\\n        - status\\n        - created_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        merchant_id:\\n          type: string\\n          format: uuid\\n        amount:\\n          type: number\\n          format: double\\n          minimum: 0.01\\n        currency:\\n          type: string\\n          minLength: 3\\n          maxLength: 3\\n        status:\\n          type: string\\n          enum: [pending, processing, completed, failed, refunded]\\n          default: pending\\n        idempotency_key:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        metadata:\\n          type: object\\n          additionalProperties: true\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Refund:\\n      type: object\\n      required:\\n        - id\\n        - payment_id\\n        - amount\\n        - reason\\n        - status\\n        - created_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        payment_id:\\n          type: string\\n          format: uuid\\n        amount:\\n          type: number\\n          format: double\\n          minimum: 0.01\\n        reason:\\n          type: string\\n          enum: [customer_request, duplicate, fraud, product_not_received, product_unacceptable, error, other]\\n        notes:\\n          type: string\\n          maxLength: 500\\n        status:\\n          type: string\\n          enum: [pending, processing, completed, failed]\\n          default: pending\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Webhook:\\n      type: object\\n      required:\\n        - id\\n        - merchant_id\\n        - url\\n        - events\\n        - is_active\\n        - created_at\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        merchant_id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        url:\\n          type: string\\n          format: uri\\n        events:\\n          type: array\\n          items:\\n            type: string\\n          minItems: 1\\n        secret:\\n          type: string\\n          readOnly: true\\n          description: Masked secret for verification\\n        is_active:\\n          type: boolean\\n          default: true\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    Pagination:\\n      type: object\\n      required:\\n        - page\\n        - limit\\n        - total\\n        - pages\\n      properties:\\n        page:\\n          type: integer\\n          minimum: 1\\n        limit:\\n          type: integer\\n          minimum: 1\\n        total:\\n          type: integer\\n          minimum: 0\\n        pages:\\n          type: integer\\n          minimum: 0\\n\\n    Error:\\n      type: object\\n      required:\\n        - code\\n        - message\\n        - timestamp\\n      properties:\\n        code:\\n          type: string\\n        message:\\n          type: string\\n        details:\\n          type: object\\n          additionalProperties: true\\n        timestamp:\\n          type: string\\n          format: date-time\\n        request_id:\\n          type: string\\n          format: uuid\\n          description: Unique request identifier for tracking\\n\\n  responses:\\n    BadRequest:\\n      description: Bad request\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    Unauthorized:\\n      description: Unauthorized\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    Forbidden:\\n      description: Forbidden\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    NotFound:\\n      description: Resource not found\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    Conflict:\\n      description: Conflict\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n    UnprocessableEntity:\\n      description: Unprocessable entity\\n      content:\\n        application/json:\\n          schema:\\n            $ref: '#/components/schemas/Error'\\n\\ntags:\\n  - name: Merchants\\n    description: Merchant management\\n  - name: Payments\\n    description: Payment operations\\n  - name: Refunds\\n    description: Refund management\\n  - name: Webhooks\\n    description: Webhook configuration\\n  - name: Health\\n    description: Service health check\\n\"}}],\"uuid\":\"e6e8bd15-d297-4293-814f-33829a11dca1\"}\n"
}