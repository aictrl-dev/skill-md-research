{
  "run_id": "opus_none_task3_rep1",
  "model": "opus",
  "condition": "none",
  "task": "3",
  "task_complexity": "complex",
  "domain": "openapi-spec",
  "rep": 1,
  "timestamp": "2026-02-21T12:11:08+00:00",
  "duration_ms": 83044,
  "cli_tool": "claude",
  "raw_output": "{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"duration_ms\":81702,\"duration_api_ms\":81643,\"num_turns\":1,\"result\":\"\\n\\n```yaml\\nopenapi: 3.1.0\\ninfo:\\n  title: Payment Processing Platform API\\n  version: \\\"1.0\\\"\\n  description: REST API for payment processing with support for merchants, payments, refunds, and webhooks.\\n  contact:\\n    name: API Support\\n    email: api-support@example.com\\n  license:\\n    name: Apache 2.0\\n    url: https://www.apache.org/licenses/LICENSE-2.0\\n\\nservers:\\n  - url: https://api.payments.example.com/v1\\n    description: Production\\n  - url: https://sandbox.api.payments.example.com/v1\\n    description: Sandbox\\n\\nsecurity:\\n  - oauth2: []\\n\\npaths:\\n  # ── Merchants ──────────────────────────────────────────────\\n  /v1/merchants:\\n    get:\\n      operationId: listMerchants\\n      summary: List merchants\\n      tags: [Merchants]\\n      parameters:\\n        - $ref: \\\"#/components/parameters/PageCursor\\\"\\n        - $ref: \\\"#/components/parameters/PageLimit\\\"\\n        - name: status\\n          in: query\\n          schema:\\n            $ref: \\\"#/components/schemas/MerchantStatus\\\"\\n      responses:\\n        \\\"200\\\":\\n          description: Paginated list of merchants\\n          content:\\n            application/json:\\n              schema:\\n                allOf:\\n                  - $ref: \\\"#/components/schemas/PaginationEnvelope\\\"\\n                  - type: object\\n                    properties:\\n                      data:\\n                        type: array\\n                        items:\\n                          $ref: \\\"#/components/schemas/Merchant\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n            RateLimit-Limit:\\n              $ref: \\\"#/components/headers/RateLimit-Limit\\\"\\n            RateLimit-Remaining:\\n              $ref: \\\"#/components/headers/RateLimit-Remaining\\\"\\n            RateLimit-Reset:\\n              $ref: \\\"#/components/headers/RateLimit-Reset\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    post:\\n      operationId: createMerchant\\n      summary: Create a merchant\\n      tags: [Merchants]\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: \\\"#/components/schemas/MerchantCreate\\\"\\n      responses:\\n        \\\"201\\\":\\n          description: Merchant created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Merchant\\\"\\n          headers:\\n            Location:\\n              schema:\\n                type: string\\n                format: uri\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"400\\\":\\n          $ref: \\\"#/components/responses/BadRequest\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"409\\\":\\n          $ref: \\\"#/components/responses/Conflict\\\"\\n        \\\"422\\\":\\n          $ref: \\\"#/components/responses/UnprocessableEntity\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  /v1/merchants/{merchant_id}:\\n    parameters:\\n      - $ref: \\\"#/components/parameters/MerchantId\\\"\\n\\n    get:\\n      operationId: getMerchant\\n      summary: Retrieve a merchant\\n      tags: [Merchants]\\n      responses:\\n        \\\"200\\\":\\n          description: Merchant details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Merchant\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    patch:\\n      operationId: updateMerchant\\n      summary: Update a merchant\\n      tags: [Merchants]\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: \\\"#/components/schemas/MerchantUpdate\\\"\\n      responses:\\n        \\\"200\\\":\\n          description: Merchant updated\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Merchant\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"400\\\":\\n          $ref: \\\"#/components/responses/BadRequest\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"409\\\":\\n          $ref: \\\"#/components/responses/Conflict\\\"\\n        \\\"422\\\":\\n          $ref: \\\"#/components/responses/UnprocessableEntity\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    delete:\\n      operationId: deactivateMerchant\\n      summary: Deactivate a merchant\\n      description: Sets the merchant status to `inactive`. Does not permanently delete the resource.\\n      tags: [Merchants]\\n      responses:\\n        \\\"204\\\":\\n          description: Merchant deactivated\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  # ── Payments ───────────────────────────────────────────────\\n  /v1/payments:\\n    get:\\n      operationId: listPayments\\n      summary: List payments\\n      tags: [Payments]\\n      parameters:\\n        - $ref: \\\"#/components/parameters/PageCursor\\\"\\n        - $ref: \\\"#/components/parameters/PageLimit\\\"\\n        - name: merchant_id\\n          in: query\\n          schema:\\n            type: string\\n            format: uuid\\n        - name: status\\n          in: query\\n          schema:\\n            $ref: \\\"#/components/schemas/PaymentStatus\\\"\\n        - name: created_gte\\n          in: query\\n          description: Filter payments created at or after this timestamp (ISO 8601)\\n          schema:\\n            type: string\\n            format: date-time\\n        - name: created_lte\\n          in: query\\n          description: Filter payments created at or before this timestamp (ISO 8601)\\n          schema:\\n            type: string\\n            format: date-time\\n      responses:\\n        \\\"200\\\":\\n          description: Paginated list of payments\\n          content:\\n            application/json:\\n              schema:\\n                allOf:\\n                  - $ref: \\\"#/components/schemas/PaginationEnvelope\\\"\\n                  - type: object\\n                    properties:\\n                      data:\\n                        type: array\\n                        items:\\n                          $ref: \\\"#/components/schemas/Payment\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n            RateLimit-Limit:\\n              $ref: \\\"#/components/headers/RateLimit-Limit\\\"\\n            RateLimit-Remaining:\\n              $ref: \\\"#/components/headers/RateLimit-Remaining\\\"\\n            RateLimit-Reset:\\n              $ref: \\\"#/components/headers/RateLimit-Reset\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    post:\\n      operationId: createPayment\\n      summary: Create a payment\\n      description: |\\n        Initiates an asynchronous payment. Returns `202 Accepted` with the payment\\n        in `pending` status. Poll `GET /v1/payments/{id}` or subscribe to the\\n        `payment.completed` / `payment.failed` webhook events for the final outcome.\\n      tags: [Payments]\\n      parameters:\\n        - name: Idempotency-Key\\n          in: header\\n          required: true\\n          description: Unique key to guarantee at-most-once processing\\n          schema:\\n            type: string\\n            minLength: 16\\n            maxLength: 64\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: \\\"#/components/schemas/PaymentCreate\\\"\\n      responses:\\n        \\\"202\\\":\\n          description: Payment accepted for processing\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Payment\\\"\\n          headers:\\n            Location:\\n              schema:\\n                type: string\\n                format: uri\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"400\\\":\\n          $ref: \\\"#/components/responses/BadRequest\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"409\\\":\\n          $ref: \\\"#/components/responses/Conflict\\\"\\n        \\\"422\\\":\\n          $ref: \\\"#/components/responses/UnprocessableEntity\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  /v1/payments/{payment_id}:\\n    parameters:\\n      - $ref: \\\"#/components/parameters/PaymentId\\\"\\n\\n    get:\\n      operationId: getPayment\\n      summary: Retrieve a payment\\n      tags: [Payments]\\n      responses:\\n        \\\"200\\\":\\n          description: Payment details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Payment\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  # ── Refunds ────────────────────────────────────────────────\\n  /v1/payments/{payment_id}/refunds:\\n    parameters:\\n      - $ref: \\\"#/components/parameters/PaymentId\\\"\\n\\n    get:\\n      operationId: listRefundsForPayment\\n      summary: List refunds for a payment\\n      tags: [Refunds]\\n      parameters:\\n        - $ref: \\\"#/components/parameters/PageCursor\\\"\\n        - $ref: \\\"#/components/parameters/PageLimit\\\"\\n      responses:\\n        \\\"200\\\":\\n          description: Paginated list of refunds\\n          content:\\n            application/json:\\n              schema:\\n                allOf:\\n                  - $ref: \\\"#/components/schemas/PaginationEnvelope\\\"\\n                  - type: object\\n                    properties:\\n                      data:\\n                        type: array\\n                        items:\\n                          $ref: \\\"#/components/schemas/Refund\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n            RateLimit-Limit:\\n              $ref: \\\"#/components/headers/RateLimit-Limit\\\"\\n            RateLimit-Remaining:\\n              $ref: \\\"#/components/headers/RateLimit-Remaining\\\"\\n            RateLimit-Reset:\\n              $ref: \\\"#/components/headers/RateLimit-Reset\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    post:\\n      operationId: createRefund\\n      summary: Create a refund\\n      tags: [Refunds]\\n      parameters:\\n        - name: Idempotency-Key\\n          in: header\\n          required: true\\n          schema:\\n            type: string\\n            minLength: 16\\n            maxLength: 64\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: \\\"#/components/schemas/RefundCreate\\\"\\n      responses:\\n        \\\"201\\\":\\n          description: Refund created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Refund\\\"\\n          headers:\\n            Location:\\n              schema:\\n                type: string\\n                format: uri\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"400\\\":\\n          $ref: \\\"#/components/responses/BadRequest\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"409\\\":\\n          $ref: \\\"#/components/responses/Conflict\\\"\\n        \\\"422\\\":\\n          $ref: \\\"#/components/responses/UnprocessableEntity\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  /v1/refunds:\\n    get:\\n      operationId: listRefunds\\n      summary: List all refunds\\n      tags: [Refunds]\\n      parameters:\\n        - $ref: \\\"#/components/parameters/PageCursor\\\"\\n        - $ref: \\\"#/components/parameters/PageLimit\\\"\\n        - name: status\\n          in: query\\n          schema:\\n            $ref: \\\"#/components/schemas/RefundStatus\\\"\\n      responses:\\n        \\\"200\\\":\\n          description: Paginated list of refunds\\n          content:\\n            application/json:\\n              schema:\\n                allOf:\\n                  - $ref: \\\"#/components/schemas/PaginationEnvelope\\\"\\n                  - type: object\\n                    properties:\\n                      data:\\n                        type: array\\n                        items:\\n                          $ref: \\\"#/components/schemas/Refund\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n            RateLimit-Limit:\\n              $ref: \\\"#/components/headers/RateLimit-Limit\\\"\\n            RateLimit-Remaining:\\n              $ref: \\\"#/components/headers/RateLimit-Remaining\\\"\\n            RateLimit-Reset:\\n              $ref: \\\"#/components/headers/RateLimit-Reset\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  /v1/refunds/{refund_id}:\\n    parameters:\\n      - $ref: \\\"#/components/parameters/RefundId\\\"\\n\\n    get:\\n      operationId: getRefund\\n      summary: Retrieve a refund\\n      tags: [Refunds]\\n      responses:\\n        \\\"200\\\":\\n          description: Refund details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Refund\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  # ── Webhooks ───────────────────────────────────────────────\\n  /v1/webhooks:\\n    get:\\n      operationId: listWebhooks\\n      summary: List webhook subscriptions\\n      tags: [Webhooks]\\n      parameters:\\n        - $ref: \\\"#/components/parameters/PageCursor\\\"\\n        - $ref: \\\"#/components/parameters/PageLimit\\\"\\n        - name: merchant_id\\n          in: query\\n          schema:\\n            type: string\\n            format: uuid\\n      responses:\\n        \\\"200\\\":\\n          description: Paginated list of webhooks\\n          content:\\n            application/json:\\n              schema:\\n                allOf:\\n                  - $ref: \\\"#/components/schemas/PaginationEnvelope\\\"\\n                  - type: object\\n                    properties:\\n                      data:\\n                        type: array\\n                        items:\\n                          $ref: \\\"#/components/schemas/Webhook\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n            RateLimit-Limit:\\n              $ref: \\\"#/components/headers/RateLimit-Limit\\\"\\n            RateLimit-Remaining:\\n              $ref: \\\"#/components/headers/RateLimit-Remaining\\\"\\n            RateLimit-Reset:\\n              $ref: \\\"#/components/headers/RateLimit-Reset\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    post:\\n      operationId: createWebhook\\n      summary: Create a webhook subscription\\n      tags: [Webhooks]\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: \\\"#/components/schemas/WebhookCreate\\\"\\n      responses:\\n        \\\"201\\\":\\n          description: Webhook created\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Webhook\\\"\\n          headers:\\n            Location:\\n              schema:\\n                type: string\\n                format: uri\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"400\\\":\\n          $ref: \\\"#/components/responses/BadRequest\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"409\\\":\\n          $ref: \\\"#/components/responses/Conflict\\\"\\n        \\\"422\\\":\\n          $ref: \\\"#/components/responses/UnprocessableEntity\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  /v1/webhooks/{webhook_id}:\\n    parameters:\\n      - $ref: \\\"#/components/parameters/WebhookId\\\"\\n\\n    get:\\n      operationId: getWebhook\\n      summary: Retrieve a webhook subscription\\n      tags: [Webhooks]\\n      responses:\\n        \\\"200\\\":\\n          description: Webhook details\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Webhook\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    patch:\\n      operationId: updateWebhook\\n      summary: Update a webhook subscription\\n      tags: [Webhooks]\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: \\\"#/components/schemas/WebhookUpdate\\\"\\n      responses:\\n        \\\"200\\\":\\n          description: Webhook updated\\n          content:\\n            application/json:\\n              schema:\\n                $ref: \\\"#/components/schemas/Webhook\\\"\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"400\\\":\\n          $ref: \\\"#/components/responses/BadRequest\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"422\\\":\\n          $ref: \\\"#/components/responses/UnprocessableEntity\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n    delete:\\n      operationId: deleteWebhook\\n      summary: Delete a webhook subscription\\n      tags: [Webhooks]\\n      responses:\\n        \\\"204\\\":\\n          description: Webhook deleted\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n  /v1/webhooks/{webhook_id}/rotate-secret:\\n    parameters:\\n      - $ref: \\\"#/components/parameters/WebhookId\\\"\\n\\n    post:\\n      operationId: rotateWebhookSecret\\n      summary: Rotate a webhook signing secret\\n      tags: [Webhooks]\\n      responses:\\n        \\\"200\\\":\\n          description: New secret generated\\n          content:\\n            application/json:\\n              schema:\\n                type: object\\n                required: [secret]\\n                properties:\\n                  secret:\\n                    type: string\\n                    description: The new signing secret. Displayed only once.\\n          headers:\\n            X-Request-Id:\\n              $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        \\\"401\\\":\\n          $ref: \\\"#/components/responses/Unauthorized\\\"\\n        \\\"404\\\":\\n          $ref: \\\"#/components/responses/NotFound\\\"\\n        \\\"429\\\":\\n          $ref: \\\"#/components/responses/TooManyRequests\\\"\\n        \\\"500\\\":\\n          $ref: \\\"#/components/responses/InternalServerError\\\"\\n\\n# ═══════════════════════════════════════════════════════════════\\n# Components\\n# ═══════════════════════════════════════════════════════════════\\ncomponents:\\n  # ── Security Schemes ─────────────────────────────────────────\\n  securitySchemes:\\n    oauth2:\\n      type: oauth2\\n      flows:\\n        clientCredentials:\\n          tokenUrl: https://auth.payments.example.com/oauth2/token\\n          scopes:\\n            merchants:read: Read merchant data\\n            merchants:write: Create and update merchants\\n            payments:read: Read payment data\\n            payments:write: Create payments\\n            refunds:read: Read refund data\\n            refunds:write: Create refunds\\n            webhooks:read: Read webhook subscriptions\\n            webhooks:write: Manage webhook subscriptions\\n\\n  # ── Parameters ───────────────────────────────────────────────\\n  parameters:\\n    MerchantId:\\n      name: merchant_id\\n      in: path\\n      required: true\\n      schema:\\n        type: string\\n        format: uuid\\n\\n    PaymentId:\\n      name: payment_id\\n      in: path\\n      required: true\\n      schema:\\n        type: string\\n        format: uuid\\n\\n    RefundId:\\n      name: refund_id\\n      in: path\\n      required: true\\n      schema:\\n        type: string\\n        format: uuid\\n\\n    WebhookId:\\n      name: webhook_id\\n      in: path\\n      required: true\\n      schema:\\n        type: string\\n        format: uuid\\n\\n    PageCursor:\\n      name: cursor\\n      in: query\\n      description: Opaque cursor for cursor-based pagination. Obtained from `pagination.next_cursor` in a previous response.\\n      schema:\\n        type: string\\n\\n    PageLimit:\\n      name: limit\\n      in: query\\n      description: Maximum number of items to return (1–100, default 20).\\n      schema:\\n        type: integer\\n        minimum: 1\\n        maximum: 100\\n        default: 20\\n\\n  # ── Headers ──────────────────────────────────────────────────\\n  headers:\\n    X-Request-Id:\\n      description: Unique identifier for this request, for tracing and support.\\n      schema:\\n        type: string\\n        format: uuid\\n    RateLimit-Limit:\\n      description: Maximum requests permitted in the current window.\\n      schema:\\n        type: integer\\n    RateLimit-Remaining:\\n      description: Remaining requests in the current window.\\n      schema:\\n        type: integer\\n    RateLimit-Reset:\\n      description: UTC epoch seconds when the rate limit window resets.\\n      schema:\\n        type: integer\\n\\n  # ── Schemas ──────────────────────────────────────────────────\\n  schemas:\\n    # ── Enums ──\\n    MerchantStatus:\\n      type: string\\n      enum: [active, inactive, suspended]\\n\\n    PaymentStatus:\\n      type: string\\n      enum: [pending, processing, completed, failed, refunded]\\n\\n    RefundStatus:\\n      type: string\\n      enum: [pending, processing, completed, failed]\\n\\n    WebhookEvent:\\n      type: string\\n      enum:\\n        - payment.created\\n        - payment.processing\\n        - payment.completed\\n        - payment.failed\\n        - refund.created\\n        - refund.completed\\n        - refund.failed\\n        - merchant.updated\\n\\n    Currency:\\n      type: string\\n      pattern: \\\"^[A-Z]{3}$\\\"\\n      description: ISO 4217 three-letter currency code\\n      examples: [\\\"USD\\\", \\\"EUR\\\", \\\"GBP\\\"]\\n\\n    # ── Pagination ──\\n    PaginationEnvelope:\\n      type: object\\n      required: [data, pagination]\\n      properties:\\n        data:\\n          type: array\\n          items: {}\\n        pagination:\\n          type: object\\n          required: [has_more]\\n          properties:\\n            has_more:\\n              type: boolean\\n            next_cursor:\\n              type: string\\n              nullable: true\\n            total_count:\\n              type: integer\\n              description: Approximate total count (may be omitted for performance on large datasets).\\n\\n    # ── Merchant ──\\n    Merchant:\\n      type: object\\n      required: [id, name, business_type, status, created_at, updated_at]\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        name:\\n          type: string\\n          minLength: 1\\n          maxLength: 255\\n        business_type:\\n          type: string\\n          minLength: 1\\n          maxLength: 100\\n          examples: [\\\"sole_proprietor\\\", \\\"llc\\\", \\\"corporation\\\", \\\"partnership\\\"]\\n        status:\\n          $ref: \\\"#/components/schemas/MerchantStatus\\\"\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    MerchantCreate:\\n      type: object\\n      required: [name, business_type]\\n      properties:\\n        name:\\n          type: string\\n          minLength: 1\\n          maxLength: 255\\n        business_type:\\n          type: string\\n          minLength: 1\\n          maxLength: 100\\n\\n    MerchantUpdate:\\n      type: object\\n      minProperties: 1\\n      properties:\\n        name:\\n          type: string\\n          minLength: 1\\n          maxLength: 255\\n        business_type:\\n          type: string\\n          minLength: 1\\n          maxLength: 100\\n        status:\\n          $ref: \\\"#/components/schemas/MerchantStatus\\\"\\n\\n    # ── Payment ──\\n    Payment:\\n      type: object\\n      required: [id, merchant_id, amount, currency, status, created_at, updated_at]\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        merchant_id:\\n          type: string\\n          format: uuid\\n        amount:\\n          type: integer\\n          description: Amount in the smallest currency unit (e.g. cents).\\n          minimum: 1\\n        currency:\\n          $ref: \\\"#/components/schemas/Currency\\\"\\n        status:\\n          $ref: \\\"#/components/schemas/PaymentStatus\\\"\\n        description:\\n          type: string\\n          maxLength: 500\\n        metadata:\\n          type: object\\n          additionalProperties:\\n            type: string\\n          maxProperties: 20\\n          description: Arbitrary key-value pairs for client-side reference.\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    PaymentCreate:\\n      type: object\\n      required: [merchant_id, amount, currency]\\n      properties:\\n        merchant_id:\\n          type: string\\n          format: uuid\\n        amount:\\n          type: integer\\n          minimum: 1\\n          description: Amount in the smallest currency unit (e.g. cents).\\n        currency:\\n          $ref: \\\"#/components/schemas/Currency\\\"\\n        description:\\n          type: string\\n          maxLength: 500\\n        metadata:\\n          type: object\\n          additionalProperties:\\n            type: string\\n          maxProperties: 20\\n\\n    # ── Refund ──\\n    Refund:\\n      type: object\\n      required: [id, payment_id, amount, status, created_at, updated_at]\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        payment_id:\\n          type: string\\n          format: uuid\\n        amount:\\n          type: integer\\n          minimum: 1\\n          description: Refund amount in the smallest currency unit. Must not exceed the original payment amount minus any prior refunds.\\n        reason:\\n          type: string\\n          maxLength: 500\\n        status:\\n          $ref: \\\"#/components/schemas/RefundStatus\\\"\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    RefundCreate:\\n      type: object\\n      required: [amount]\\n      properties:\\n        amount:\\n          type: integer\\n          minimum: 1\\n        reason:\\n          type: string\\n          maxLength: 500\\n\\n    # ── Webhook ──\\n    Webhook:\\n      type: object\\n      required: [id, merchant_id, url, events, is_active, created_at, updated_at]\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          readOnly: true\\n        merchant_id:\\n          type: string\\n          format: uuid\\n        url:\\n          type: string\\n          format: uri\\n          maxLength: 2048\\n        events:\\n          type: array\\n          items:\\n            $ref: \\\"#/components/schemas/WebhookEvent\\\"\\n          minItems: 1\\n          uniqueItems: true\\n        secret:\\n          type: string\\n          readOnly: true\\n          description: HMAC-SHA256 signing secret. Returned only on creation and secret rotation.\\n        is_active:\\n          type: boolean\\n          default: true\\n        created_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n        updated_at:\\n          type: string\\n          format: date-time\\n          readOnly: true\\n\\n    WebhookCreate:\\n      type: object\\n      required: [merchant_id, url, events]\\n      properties:\\n        merchant_id:\\n          type: string\\n          format: uuid\\n        url:\\n          type: string\\n          format: uri\\n          maxLength: 2048\\n        events:\\n          type: array\\n          items:\\n            $ref: \\\"#/components/schemas/WebhookEvent\\\"\\n          minItems: 1\\n          uniqueItems: true\\n\\n    WebhookUpdate:\\n      type: object\\n      minProperties: 1\\n      properties:\\n        url:\\n          type: string\\n          format: uri\\n          maxLength: 2048\\n        events:\\n          type: array\\n          items:\\n            $ref: \\\"#/components/schemas/WebhookEvent\\\"\\n          minItems: 1\\n          uniqueItems: true\\n        is_active:\\n          type: boolean\\n\\n    # ── Error ──\\n    Error:\\n      type: object\\n      required: [type, title, status, detail, request_id]\\n      properties:\\n        type:\\n          type: string\\n          format: uri\\n          description: URI reference identifying the error type.\\n        title:\\n          type: string\\n        status:\\n          type: integer\\n        detail:\\n          type: string\\n        request_id:\\n          type: string\\n          format: uuid\\n        errors:\\n          type: array\\n          description: Field-level validation errors.\\n          items:\\n            type: object\\n            required: [field, message]\\n            properties:\\n              field:\\n                type: string\\n              message:\\n                type: string\\n\\n  # ── Responses ────────────────────────────────────────────────\\n  responses:\\n    BadRequest:\\n      description: The request body or parameters are malformed.\\n      content:\\n        application/json:\\n          schema:\\n            $ref: \\\"#/components/schemas/Error\\\"\\n      headers:\\n        X-Request-Id:\\n          $ref: \\\"#/components/headers/X-Request-Id\\\"\\n\\n    Unauthorized:\\n      description: Missing or invalid OAuth2 bearer token.\\n      content:\\n        application/json:\\n          schema:\\n            $ref: \\\"#/components/schemas/Error\\\"\\n      headers:\\n        X-Request-Id:\\n          $ref: \\\"#/components/headers/X-Request-Id\\\"\\n\\n    NotFound:\\n      description: The requested resource does not exist.\\n      content:\\n        application/json:\\n          schema:\\n            $ref: \\\"#/components/schemas/Error\\\"\\n      headers:\\n        X-Request-Id:\\n          $ref: \\\"#/components/headers/X-Request-Id\\\"\\n\\n    Conflict:\\n      description: Conflict — duplicate idempotency key with different parameters, or resource state conflict.\\n      content:\\n        application/json:\\n          schema:\\n            $ref: \\\"#/components/schemas/Error\\\"\\n      headers:\\n        X-Request-Id:\\n          $ref: \\\"#/components/headers/X-Request-Id\\\"\\n\\n    UnprocessableEntity:\\n      description: The request is well-formed but contains semantic errors.\\n      content:\\n        application/json:\\n          schema:\\n            $ref: \\\"#/components/schemas/Error\\\"\\n      headers:\\n        X-Request-Id:\\n          $ref: \\\"#/components/headers/X-Request-Id\\\"\\n\\n    TooManyRequests:\\n      description: Rate limit exceeded.\\n      content:\\n        application/json:\\n          schema:\\n            $ref: \\\"#/components/schemas/Error\\\"\\n      headers:\\n        X-Request-Id:\\n          $ref: \\\"#/components/headers/X-Request-Id\\\"\\n        Retry-After:\\n          description: Seconds to wait before retrying.\\n          schema:\\n            type: integer\\n        RateLimit-Limit:\\n          $ref: \\\"#/components/headers/RateLimit-Limit\\\"\\n        RateLimit-Remaining:\\n          $ref: \\\"#/components/headers/RateLimit-Remaining\\\"\\n        RateLimit-Reset:\\n          $ref: \\\"#/components/headers/RateLimit-Reset\\\"\\n\\n    InternalServerError:\\n      description: An unexpected error occurred on the server.\\n      content:\\n        application/json:\\n          schema:\\n            $ref: \\\"#/components/schemas/Error\\\"\\n      headers:\\n        X-Request-Id:\\n          $ref: \\\"#/components/headers/X-Request-Id\\\"\\n```\",\"stop_reason\":null,\"session_id\":\"ee4ce08e-aa66-4599-95ce-b77868013831\",\"total_cost_usd\":0.25204525,\"usage\":{\"input_tokens\":3,\"cache_creation_input_tokens\":2449,\"cache_read_input_tokens\":25498,\"output_tokens\":8959,\"server_tool_use\":{\"web_search_requests\":0,\"web_fetch_requests\":0},\"service_tier\":\"standard\",\"cache_creation\":{\"ephemeral_1h_input_tokens\":2449,\"ephemeral_5m_input_tokens\":0},\"inference_geo\":\"\",\"iterations\":[],\"speed\":\"standard\"},\"modelUsage\":{\"claude-opus-4-6\":{\"inputTokens\":3,\"outputTokens\":8959,\"cacheReadInputTokens\":25498,\"cacheCreationInputTokens\":2449,\"webSearchRequests\":0,\"costUSD\":0.25204525,\"contextWindow\":200000,\"maxOutputTokens\":32000}},\"permission_denials\":[],\"uuid\":\"8ed6ba35-b01c-49f3-bdbb-0a83af3a9148\"}"
}
