{
  "run_id": "opus_markdown_task3_rep1",
  "model": "opus",
  "condition": "markdown",
  "task": "3",
  "task_complexity": "complex",
  "domain": "openapi-spec",
  "rep": 1,
  "timestamp": "2026-02-21T12:14:30+00:00",
  "duration_ms": 96691,
  "cli_tool": "claude",
  "raw_output": "{\"type\":\"result\",\"subtype\":\"success\",\"is_error\":false,\"duration_ms\":95513,\"duration_api_ms\":95488,\"num_turns\":1,\"result\":\"\\n\\n```yaml\\nopenapi: \\\"3.0.3\\\"\\ninfo:\\n  title: Payment Processing Platform API\\n  version: \\\"1.0.0\\\"\\n  description: >\\n    A production-grade payment processing platform API supporting merchant management,\\n    asynchronous payment processing, refunds, and webhook subscriptions.\\n  contact:\\n    email: api-support@payments.example.com\\n    url: https://docs.payments.example.com\\n\\nservers:\\n  - url: https://api.payments.example.com/v1\\n    description: Production\\n  - url: https://sandbox.payments.example.com/v1\\n    description: Sandbox\\n\\nsecurity:\\n  - oauth2: []\\n\\npaths:\\n  /merchants:\\n    get:\\n      operationId: listMerchants\\n      summary: List all merchants\\n      description: Returns a paginated list of all merchant accounts. Supports filtering by status and business type.\\n      tags:\\n        - Merchants\\n      parameters:\\n        - $ref: '#/components/parameters/CursorParam'\\n        - $ref: '#/components/parameters/LimitParam'\\n        - name: status\\n          in: query\\n          schema:\\n            type: string\\n            enum: [active, inactive, suspended]\\n          example: active\\n        - name: businessType\\n          in: query\\n          schema:\\n            type: string\\n          example: retail\\n      responses:\\n        '200':\\n          description: A paginated list of merchants\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/ListMerchantsResponse'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    post:\\n      operationId: createMerchant\\n      summary: Create a merchant\\n      description: Registers a new merchant account on the platform.\\n      tags:\\n        - Merchants\\n      parameters:\\n        - $ref: '#/components/parameters/IdempotencyKeyParam'\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: '#/components/schemas/CreateMerchantRequest'\\n      responses:\\n        '201':\\n          description: Merchant created successfully\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '409':\\n          $ref: '#/components/responses/Conflict'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /merchants/{merchantId}:\\n    get:\\n      operationId: getMerchant\\n      summary: Get a merchant\\n      description: Retrieves the details of an existing merchant by its unique identifier.\\n      tags:\\n        - Merchants\\n      parameters:\\n        - $ref: '#/components/parameters/MerchantIdParam'\\n      responses:\\n        '200':\\n          description: Merchant details\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    put:\\n      operationId: updateMerchant\\n      summary: Update a merchant\\n      description: Updates an existing merchant's details. All mutable fields can be modified.\\n      tags:\\n        - Merchants\\n      parameters:\\n        - $ref: '#/components/parameters/MerchantIdParam'\\n        - $ref: '#/components/parameters/IdempotencyKeyParam'\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: '#/components/schemas/UpdateMerchantRequest'\\n      responses:\\n        '200':\\n          description: Merchant updated successfully\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Merchant'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    delete:\\n      operationId: deleteMerchant\\n      summary: Deactivate a merchant\\n      description: Deactivates a merchant account. This does not permanently delete the merchant record.\\n      tags:\\n        - Merchants\\n      parameters:\\n        - $ref: '#/components/parameters/MerchantIdParam'\\n      responses:\\n        '204':\\n          description: Merchant deactivated successfully\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /payments:\\n    get:\\n      operationId: listPayments\\n      summary: List all payments\\n      description: Returns a paginated list of payments. Supports filtering by merchant, status, and currency.\\n      tags:\\n        - Payments\\n      parameters:\\n        - $ref: '#/components/parameters/CursorParam'\\n        - $ref: '#/components/parameters/LimitParam'\\n        - name: merchantId\\n          in: query\\n          schema:\\n            type: string\\n            format: uuid\\n          example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n        - name: status\\n          in: query\\n          schema:\\n            $ref: '#/components/schemas/PaymentStatus'\\n        - name: currency\\n          in: query\\n          schema:\\n            type: string\\n            minLength: 3\\n            maxLength: 3\\n          example: \\\"USD\\\"\\n      responses:\\n        '200':\\n          description: A paginated list of payments\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/ListPaymentsResponse'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    post:\\n      operationId: createPayment\\n      summary: Create a payment\\n      description: >\\n        Initiates a new payment. Payment processing is asynchronous; the response returns\\n        immediately with status `pending`. Subscribe to the `payment.completed` or `payment.failed`\\n        webhook events to receive the final outcome.\\n      tags:\\n        - Payments\\n      parameters:\\n        - $ref: '#/components/parameters/IdempotencyKeyParam'\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: '#/components/schemas/CreatePaymentRequest'\\n      responses:\\n        '202':\\n          description: Payment accepted for processing\\n          headers:\\n            Location:\\n              description: URI of the created payment resource\\n              schema:\\n                type: string\\n                format: uri\\n                example: \\\"https://api.payments.example.com/v1/payments/f47ac10b-58cc-4372-a567-0e02b2c3d479\\\"\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Payment'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /payments/{paymentId}:\\n    get:\\n      operationId: getPayment\\n      summary: Get a payment\\n      description: Retrieves the current details and status of a payment.\\n      tags:\\n        - Payments\\n      parameters:\\n        - $ref: '#/components/parameters/PaymentIdParam'\\n      responses:\\n        '200':\\n          description: Payment details\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Payment'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /payments/{paymentId}/refunds:\\n    get:\\n      operationId: listRefundsByPayment\\n      summary: List refunds for a payment\\n      description: Returns a paginated list of all refunds associated with a specific payment.\\n      tags:\\n        - Refunds\\n      parameters:\\n        - $ref: '#/components/parameters/PaymentIdParam'\\n        - $ref: '#/components/parameters/CursorParam'\\n        - $ref: '#/components/parameters/LimitParam'\\n      responses:\\n        '200':\\n          description: A paginated list of refunds for the payment\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/ListRefundsResponse'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    post:\\n      operationId: createRefund\\n      summary: Create a refund\\n      description: >\\n        Initiates a refund for a completed payment. Partial refunds are supported.\\n        The refund amount must not exceed the original payment amount minus any prior refunds.\\n      tags:\\n        - Refunds\\n      parameters:\\n        - $ref: '#/components/parameters/PaymentIdParam'\\n        - $ref: '#/components/parameters/IdempotencyKeyParam'\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: '#/components/schemas/CreateRefundRequest'\\n      responses:\\n        '201':\\n          description: Refund created successfully\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Refund'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '422':\\n          $ref: '#/components/responses/UnprocessableEntity'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /refunds:\\n    get:\\n      operationId: listRefunds\\n      summary: List all refunds\\n      description: Returns a paginated list of all refunds across all payments. Supports filtering by status.\\n      tags:\\n        - Refunds\\n      parameters:\\n        - $ref: '#/components/parameters/CursorParam'\\n        - $ref: '#/components/parameters/LimitParam'\\n        - name: status\\n          in: query\\n          schema:\\n            $ref: '#/components/schemas/RefundStatus'\\n      responses:\\n        '200':\\n          description: A paginated list of refunds\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/ListRefundsResponse'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /refunds/{refundId}:\\n    get:\\n      operationId: getRefund\\n      summary: Get a refund\\n      description: Retrieves the details of an existing refund by its unique identifier.\\n      tags:\\n        - Refunds\\n      parameters:\\n        - $ref: '#/components/parameters/RefundIdParam'\\n      responses:\\n        '200':\\n          description: Refund details\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Refund'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /webhooks:\\n    get:\\n      operationId: listWebhooks\\n      summary: List all webhooks\\n      description: Returns a paginated list of webhook subscriptions. Supports filtering by merchant.\\n      tags:\\n        - Webhooks\\n      parameters:\\n        - $ref: '#/components/parameters/CursorParam'\\n        - $ref: '#/components/parameters/LimitParam'\\n        - name: merchantId\\n          in: query\\n          schema:\\n            type: string\\n            format: uuid\\n          example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n        - name: isActive\\n          in: query\\n          schema:\\n            type: boolean\\n          example: true\\n      responses:\\n        '200':\\n          description: A paginated list of webhooks\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/ListWebhooksResponse'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    post:\\n      operationId: createWebhook\\n      summary: Create a webhook\\n      description: >\\n        Registers a new webhook subscription for a merchant. The platform will deliver\\n        event payloads to the specified URL, signed with the generated secret.\\n      tags:\\n        - Webhooks\\n      parameters:\\n        - $ref: '#/components/parameters/IdempotencyKeyParam'\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: '#/components/schemas/CreateWebhookRequest'\\n      responses:\\n        '201':\\n          description: Webhook created successfully\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '409':\\n          $ref: '#/components/responses/Conflict'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\n  /webhooks/{webhookId}:\\n    get:\\n      operationId: getWebhook\\n      summary: Get a webhook\\n      description: Retrieves the details of an existing webhook subscription.\\n      tags:\\n        - Webhooks\\n      parameters:\\n        - $ref: '#/components/parameters/WebhookIdParam'\\n      responses:\\n        '200':\\n          description: Webhook details\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    put:\\n      operationId: updateWebhook\\n      summary: Update a webhook\\n      description: Updates an existing webhook subscription's URL, subscribed events, or active status.\\n      tags:\\n        - Webhooks\\n      parameters:\\n        - $ref: '#/components/parameters/WebhookIdParam'\\n        - $ref: '#/components/parameters/IdempotencyKeyParam'\\n      requestBody:\\n        required: true\\n        content:\\n          application/json:\\n            schema:\\n              $ref: '#/components/schemas/UpdateWebhookRequest'\\n      responses:\\n        '200':\\n          description: Webhook updated successfully\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n          content:\\n            application/json:\\n              schema:\\n                $ref: '#/components/schemas/Webhook'\\n        '400':\\n          $ref: '#/components/responses/BadRequest'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n    delete:\\n      operationId: deleteWebhook\\n      summary: Delete a webhook\\n      description: Permanently removes a webhook subscription. Pending deliveries will be cancelled.\\n      tags:\\n        - Webhooks\\n      parameters:\\n        - $ref: '#/components/parameters/WebhookIdParam'\\n      responses:\\n        '204':\\n          description: Webhook deleted successfully\\n          headers:\\n            X-RateLimit-Limit:\\n              $ref: '#/components/headers/X-RateLimit-Limit'\\n            X-RateLimit-Remaining:\\n              $ref: '#/components/headers/X-RateLimit-Remaining'\\n            X-RateLimit-Reset:\\n              $ref: '#/components/headers/X-RateLimit-Reset'\\n        '401':\\n          $ref: '#/components/responses/Unauthorized'\\n        '404':\\n          $ref: '#/components/responses/NotFound'\\n        '500':\\n          $ref: '#/components/responses/InternalServerError'\\n\\ncomponents:\\n  securitySchemes:\\n    oauth2:\\n      type: oauth2\\n      flows:\\n        clientCredentials:\\n          tokenUrl: https://auth.payments.example.com/oauth/token\\n          scopes:\\n            merchants:read: Read merchant data\\n            merchants:write: Create and update merchants\\n            payments:read: Read payment data\\n            payments:write: Create payments\\n            refunds:read: Read refund data\\n            refunds:write: Create refunds\\n            webhooks:read: Read webhook subscriptions\\n            webhooks:write: Manage webhook subscriptions\\n\\n  parameters:\\n    CursorParam:\\n      name: cursor\\n      in: query\\n      description: Pagination cursor from a previous response's `nextCursor` field\\n      schema:\\n        type: string\\n      example: \\\"eyJpZCI6MTAwfQ==\\\"\\n    LimitParam:\\n      name: limit\\n      in: query\\n      description: Maximum number of items to return per page\\n      schema:\\n        type: integer\\n        minimum: 1\\n        maximum: 100\\n        default: 20\\n      example: 20\\n    IdempotencyKeyParam:\\n      name: Idempotency-Key\\n      in: header\\n      required: false\\n      description: Unique key to ensure idempotent request processing\\n      schema:\\n        type: string\\n        format: uuid\\n        example: \\\"550e8400-e29b-41d4-a716-446655440000\\\"\\n    MerchantIdParam:\\n      name: merchantId\\n      in: path\\n      required: true\\n      description: Unique identifier of the merchant\\n      schema:\\n        type: string\\n        format: uuid\\n      example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n    PaymentIdParam:\\n      name: paymentId\\n      in: path\\n      required: true\\n      description: Unique identifier of the payment\\n      schema:\\n        type: string\\n        format: uuid\\n      example: \\\"f47ac10b-58cc-4372-a567-0e02b2c3d479\\\"\\n    RefundIdParam:\\n      name: refundId\\n      in: path\\n      required: true\\n      description: Unique identifier of the refund\\n      schema:\\n        type: string\\n        format: uuid\\n      example: \\\"9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d\\\"\\n    WebhookIdParam:\\n      name: webhookId\\n      in: path\\n      required: true\\n      description: Unique identifier of the webhook subscription\\n      schema:\\n        type: string\\n        format: uuid\\n      example: \\\"c56a4180-65aa-42ec-a945-5fd21dec0538\\\"\\n\\n  headers:\\n    X-RateLimit-Limit:\\n      description: Maximum number of requests allowed per window\\n      schema:\\n        type: integer\\n        example: 1000\\n    X-RateLimit-Remaining:\\n      description: Number of requests remaining in the current window\\n      schema:\\n        type: integer\\n        example: 950\\n    X-RateLimit-Reset:\\n      description: Seconds until the rate limit window resets\\n      schema:\\n        type: integer\\n        example: 3600\\n\\n  schemas:\\n    ProblemDetail:\\n      type: object\\n      required:\\n        - type\\n        - title\\n        - status\\n        - detail\\n      properties:\\n        type:\\n          type: string\\n          format: uri\\n          description: A URI reference that identifies the problem type\\n          example: \\\"https://api.payments.example.com/errors/validation-error\\\"\\n        title:\\n          type: string\\n          description: A short human-readable summary of the problem type\\n          example: \\\"Validation Error\\\"\\n        status:\\n          type: integer\\n          description: The HTTP status code\\n          example: 400\\n        detail:\\n          type: string\\n          description: A human-readable explanation specific to this occurrence\\n          example: \\\"The 'amount' field must be a positive integer.\\\"\\n        instance:\\n          type: string\\n          format: uri\\n          description: A URI reference identifying the specific occurrence\\n          example: \\\"https://api.payments.example.com/errors/instances/abc-123\\\"\\n\\n    PaymentStatus:\\n      type: string\\n      enum:\\n        - pending\\n        - processing\\n        - completed\\n        - failed\\n        - refunded\\n      example: completed\\n\\n    RefundStatus:\\n      type: string\\n      enum:\\n        - pending\\n        - processing\\n        - completed\\n        - failed\\n      example: completed\\n\\n    MerchantStatus:\\n      type: string\\n      enum:\\n        - active\\n        - inactive\\n        - suspended\\n      example: active\\n\\n    WebhookEvent:\\n      type: string\\n      enum:\\n        - payment.created\\n        - payment.processing\\n        - payment.completed\\n        - payment.failed\\n        - refund.created\\n        - refund.completed\\n        - refund.failed\\n        - merchant.updated\\n        - merchant.deactivated\\n      example: payment.completed\\n\\n    Merchant:\\n      type: object\\n      required:\\n        - id\\n        - name\\n        - businessType\\n        - status\\n        - createdAt\\n        - updatedAt\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          description: Unique identifier for the merchant\\n          example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n        name:\\n          type: string\\n          description: Registered business name\\n          example: \\\"Acme Electronics Ltd\\\"\\n        businessType:\\n          type: string\\n          description: Type of business\\n          example: \\\"retail\\\"\\n        status:\\n          $ref: '#/components/schemas/MerchantStatus'\\n        createdAt:\\n          type: string\\n          format: date-time\\n          description: Timestamp when the merchant was created\\n          example: \\\"2024-01-15T09:30:00Z\\\"\\n        updatedAt:\\n          type: string\\n          format: date-time\\n          description: Timestamp when the merchant was last updated\\n          example: \\\"2024-06-20T14:22:00Z\\\"\\n\\n    CreateMerchantRequest:\\n      type: object\\n      required:\\n        - name\\n        - businessType\\n      properties:\\n        name:\\n          type: string\\n          minLength: 1\\n          maxLength: 255\\n          description: Registered business name\\n          example: \\\"Acme Electronics Ltd\\\"\\n        businessType:\\n          type: string\\n          minLength: 1\\n          maxLength: 100\\n          description: Type of business\\n          example: \\\"retail\\\"\\n\\n    UpdateMerchantRequest:\\n      type: object\\n      properties:\\n        name:\\n          type: string\\n          minLength: 1\\n          maxLength: 255\\n          description: Updated business name\\n          example: \\\"Acme Electronics Inc\\\"\\n        businessType:\\n          type: string\\n          minLength: 1\\n          maxLength: 100\\n          description: Updated business type\\n          example: \\\"e-commerce\\\"\\n        status:\\n          $ref: '#/components/schemas/MerchantStatus'\\n\\n    Payment:\\n      type: object\\n      required:\\n        - id\\n        - merchantId\\n        - amount\\n        - currency\\n        - status\\n        - createdAt\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          description: Unique identifier for the payment\\n          example: \\\"f47ac10b-58cc-4372-a567-0e02b2c3d479\\\"\\n        merchantId:\\n          type: string\\n          format: uuid\\n          description: Identifier of the merchant receiving the payment\\n          example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n        amount:\\n          type: integer\\n          minimum: 1\\n          description: Payment amount in the smallest currency unit (e.g. cents)\\n          example: 5000\\n        currency:\\n          type: string\\n          minLength: 3\\n          maxLength: 3\\n          description: ISO 4217 currency code\\n          example: \\\"USD\\\"\\n        status:\\n          $ref: '#/components/schemas/PaymentStatus'\\n        createdAt:\\n          type: string\\n          format: date-time\\n          description: Timestamp when the payment was initiated\\n          example: \\\"2024-07-01T12:00:00Z\\\"\\n\\n    CreatePaymentRequest:\\n      type: object\\n      required:\\n        - merchantId\\n        - amount\\n        - currency\\n      properties:\\n        merchantId:\\n          type: string\\n          format: uuid\\n          description: Identifier of the merchant receiving the payment\\n          example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n        amount:\\n          type: integer\\n          minimum: 1\\n          description: Payment amount in the smallest currency unit (e.g. cents)\\n          example: 5000\\n        currency:\\n          type: string\\n          minLength: 3\\n          maxLength: 3\\n          description: ISO 4217 currency code\\n          example: \\\"USD\\\"\\n\\n    Refund:\\n      type: object\\n      required:\\n        - id\\n        - paymentId\\n        - amount\\n        - reason\\n        - status\\n        - createdAt\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          description: Unique identifier for the refund\\n          example: \\\"9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d\\\"\\n        paymentId:\\n          type: string\\n          format: uuid\\n          description: Identifier of the original payment being refunded\\n          example: \\\"f47ac10b-58cc-4372-a567-0e02b2c3d479\\\"\\n        amount:\\n          type: integer\\n          minimum: 1\\n          description: Refund amount in the smallest currency unit (e.g. cents)\\n          example: 2500\\n        reason:\\n          type: string\\n          description: Reason for the refund\\n          example: \\\"Customer requested return\\\"\\n        status:\\n          $ref: '#/components/schemas/RefundStatus'\\n        createdAt:\\n          type: string\\n          format: date-time\\n          description: Timestamp when the refund was created\\n          example: \\\"2024-07-05T08:15:00Z\\\"\\n\\n    CreateRefundRequest:\\n      type: object\\n      required:\\n        - amount\\n        - reason\\n      properties:\\n        amount:\\n          type: integer\\n          minimum: 1\\n          description: Refund amount in the smallest currency unit (e.g. cents)\\n          example: 2500\\n        reason:\\n          type: string\\n          minLength: 1\\n          maxLength: 500\\n          description: Reason for the refund\\n          example: \\\"Customer requested return\\\"\\n\\n    Webhook:\\n      type: object\\n      required:\\n        - id\\n        - merchantId\\n        - url\\n        - events\\n        - secret\\n        - isActive\\n        - createdAt\\n        - updatedAt\\n      properties:\\n        id:\\n          type: string\\n          format: uuid\\n          description: Unique identifier for the webhook subscription\\n          example: \\\"c56a4180-65aa-42ec-a945-5fd21dec0538\\\"\\n        merchantId:\\n          type: string\\n          format: uuid\\n          description: Identifier of the merchant that owns this webhook\\n          example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n        url:\\n          type: string\\n          format: uri\\n          description: HTTPS endpoint where webhook payloads are delivered\\n          example: \\\"https://merchant.example.com/webhooks/payments\\\"\\n        events:\\n          type: array\\n          items:\\n            $ref: '#/components/schemas/WebhookEvent'\\n          description: List of event types this webhook is subscribed to\\n          example:\\n            - payment.completed\\n            - payment.failed\\n            - refund.completed\\n        secret:\\n          type: string\\n          description: HMAC secret used to verify webhook payload signatures\\n          example: \\\"whsec_k8s92jfh4nsl2o3irhf7s9d8f7g6h5j4\\\"\\n        isActive:\\n          type: boolean\\n          description: Whether the webhook is currently active and receiving events\\n          example: true\\n        createdAt:\\n          type: string\\n          format: date-time\\n          description: Timestamp when the webhook was created\\n          example: \\\"2024-03-10T11:00:00Z\\\"\\n        updatedAt:\\n          type: string\\n          format: date-time\\n          description: Timestamp when the webhook was last updated\\n          example: \\\"2024-06-15T16:45:00Z\\\"\\n\\n    CreateWebhookRequest:\\n      type: object\\n      required:\\n        - merchantId\\n        - url\\n        - events\\n      properties:\\n        merchantId:\\n          type: string\\n          format: uuid\\n          description: Identifier of the merchant that owns this webhook\\n          example: \\\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\\\"\\n        url:\\n          type: string\\n          format: uri\\n          description: HTTPS endpoint where webhook payloads will be delivered\\n          example: \\\"https://merchant.example.com/webhooks/payments\\\"\\n        events:\\n          type: array\\n          minItems: 1\\n          items:\\n            $ref: '#/components/schemas/WebhookEvent'\\n          description: List of event types to subscribe to\\n          example:\\n            - payment.completed\\n            - payment.failed\\n\\n    UpdateWebhookRequest:\\n      type: object\\n      properties:\\n        url:\\n          type: string\\n          format: uri\\n          description: Updated HTTPS endpoint for webhook delivery\\n          example: \\\"https://merchant.example.com/webhooks/v2/payments\\\"\\n        events:\\n          type: array\\n          minItems: 1\\n          items:\\n            $ref: '#/components/schemas/WebhookEvent'\\n          description: Updated list of event types to subscribe to\\n          example:\\n            - payment.completed\\n            - payment.failed\\n            - refund.completed\\n        isActive:\\n          type: boolean\\n          description: Whether the webhook should be active\\n          example: false\\n\\n    ListMerchantsResponse:\\n      type: object\\n      required:\\n        - data\\n        - hasMore\\n      properties:\\n        data:\\n          type: array\\n          items:\\n            $ref: '#/components/schemas/Merchant'\\n        nextCursor:\\n          type: string\\n          nullable: true\\n          description: Cursor to retrieve the next page of results\\n          example: \\\"eyJpZCI6ImExYjJjM2Q0In0=\\\"\\n        hasMore:\\n          type: boolean\\n          description: Whether more results are available beyond this page\\n          example: true\\n\\n    ListPaymentsResponse:\\n      type: object\\n      required:\\n        - data\\n        - hasMore\\n      properties:\\n        data:\\n          type: array\\n          items:\\n            $ref: '#/components/schemas/Payment'\\n        nextCursor:\\n          type: string\\n          nullable: true\\n          description: Cursor to retrieve the next page of results\\n          example: \\\"eyJpZCI6ImY0N2FjMTBiIn0=\\\"\\n        hasMore:\\n          type: boolean\\n          description: Whether more results are available beyond this page\\n          example: true\\n\\n    ListRefundsResponse:\\n      type: object\\n      required:\\n        - data\\n        - hasMore\\n      properties:\\n        data:\\n          type: array\\n          items:\\n            $ref: '#/components/schemas/Refund'\\n        nextCursor:\\n          type: string\\n          nullable: true\\n          description: Cursor to retrieve the next page of results\\n          example: \\\"eyJpZCI6IjliMWRlYjRkIn0=\\\"\\n        hasMore:\\n          type: boolean\\n          description: Whether more results are available beyond this page\\n          example: false\\n\\n    ListWebhooksResponse:\\n      type: object\\n      required:\\n        - data\\n        - hasMore\\n      properties:\\n        data:\\n          type: array\\n          items:\\n            $ref: '#/components/schemas/Webhook'\\n        nextCursor:\\n          type: string\\n          nullable: true\\n          description: Cursor to retrieve the next page of results\\n          example: \\\"eyJpZCI6ImM1NmE0MTgwIn0=\\\"\\n        hasMore:\\n          type: boolean\\n          description: Whether more results are available beyond this page\\n          example: false\\n\\n  responses:\\n    BadRequest:\\n      description: The request was malformed or contained invalid parameters\\n      content:\\n        application/problem+json:\\n          schema:\\n            $ref: '#/components/schemas/ProblemDetail'\\n          example:\\n            type: \\\"https://api.payments.example.com/errors/validation-error\\\"\\n            title: \\\"Validation Error\\\"\\n            status: 400\\n            detail: \\\"The 'amount' field must be a positive integer.\\\"\\n    Unauthorized:\\n      description: Authentication credentials are missing or invalid\\n      content:\\n        application/problem+json:\\n          schema:\\n            $ref: '#/components/schemas/ProblemDetail'\\n          example:\\n            type: \\\"https://api.payments.example.com/errors/unauthorized\\\"\\n            title: \\\"Unauthorized\\\"\\n            status: 401\\n            detail: \\\"The provided OAuth2 token is expired or invalid.\\\"\\n    NotFound:\\n      description: The requested resource was not found\\n      content:\\n        application/problem+json:\\n          schema:\\n            $ref: '#/components/schemas/ProblemDetail'\\n          example:\\n            type: \\\"https://api.payments.example.com/errors/not-found\\\"\\n            title: \\\"Resource Not Found\\\"\\n            status: 404\\n            detail: \\\"The requested resource could not be found.\\\"\\n    Conflict:\\n      description: The request conflicts with the current state of the resource\\n      content:\\n        application/problem+json:\\n          schema:\\n            $ref: '#/components/schemas/ProblemDetail'\\n          example:\\n            type: \\\"https://api.payments.example.com/errors/conflict\\\"\\n            title: \\\"Conflict\\\"\\n            status: 409\\n            detail: \\\"A resource with the provided identifier already exists.\\\"\\n    UnprocessableEntity:\\n      description: The request was well-formed but contains semantic errors\\n      content:\\n        application/problem+json:\\n          schema:\\n            $ref: '#/components/schemas/ProblemDetail'\\n          example:\\n            type: \\\"https://api.payments.example.com/errors/unprocessable-entity\\\"\\n            title: \\\"Unprocessable Entity\\\"\\n            status: 422\\n            detail: \\\"The merchant account is not in an active state to accept payments.\\\"\\n    InternalServerError:\\n      description: An unexpected error occurred on the server\\n      content:\\n        application/problem+json:\\n          schema:\\n            $ref: '#/components/schemas/ProblemDetail'\\n          example:\\n            type: \\\"https://api.payments.example.com/errors/internal-error\\\"\\n            title: \\\"Internal Server Error\\\"\\n            status: 500\\n            detail: \\\"An unexpected error occurred. Please try again later.\\\"\\n```\",\"stop_reason\":null,\"session_id\":\"c91f6fbb-8f17-47af-8cb3-91c2224c1ff0\",\"total_cost_usd\":0.3032765,\"usage\":{\"input_tokens\":3,\"cache_creation_input_tokens\":4738,\"cache_read_input_tokens\":25498,\"output_tokens\":10436,\"server_tool_use\":{\"web_search_requests\":0,\"web_fetch_requests\":0},\"service_tier\":\"standard\",\"cache_creation\":{\"ephemeral_1h_input_tokens\":4738,\"ephemeral_5m_input_tokens\":0},\"inference_geo\":\"\",\"iterations\":[],\"speed\":\"standard\"},\"modelUsage\":{\"claude-opus-4-6\":{\"inputTokens\":3,\"outputTokens\":10436,\"cacheReadInputTokens\":25498,\"cacheCreationInputTokens\":4738,\"webSearchRequests\":0,\"costUSD\":0.3032765,\"contextWindow\":200000,\"maxOutputTokens\":32000}},\"permission_denials\":[],\"uuid\":\"673a64ae-9cb6-4981-83ad-1f6dcef1f164\"}"
}
