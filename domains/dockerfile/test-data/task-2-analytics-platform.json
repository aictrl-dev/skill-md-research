{
  "task_id": "2",
  "complexity": "medium",
  "domain": "dockerfile",
  "description": "Write a production Dockerfile for a Python analytics platform (inspired by Apache Superset / Redash). The app has a React frontend (in frontend/, built with npm) and a Python backend (Flask + Gunicorn). The build requires two stages: (1) a Node.js stage that builds the frontend into static assets (npm ci && npm run build, outputs to frontend/dist/), (2) a Python stage that uses Poetry for dependency management (poetry.lock + pyproject.toml). The final runtime image must: (1) use python:3.12-slim as the base, (2) install system packages for database connectivity: libpq-dev for PostgreSQL and unixodbc-dev for ODBC, (3) copy the frontend dist/ into a static assets directory, (4) copy Poetry-installed packages from a virtualenv in the builder, (5) run as a non-root user 'superset' with UID 1000, (6) expose port 8088, (7) include a HEALTHCHECK with curl against http://localhost:8088/health, (8) use LABEL for maintainer and description metadata. Start command: gunicorn -w 4 -b 0.0.0.0:8088 app:create_app()",
  "runtime": "python",
  "port": 8088,
  "health_endpoint": "/health",
  "multi_stage_required": true,
  "has_frontend_build": true,
  "has_poetry": true,
  "has_system_deps": true,
  "requirements": {
    "base_image": "python:3.12-slim",
    "multi_stage": true,
    "port": 8088,
    "health_check": true,
    "non_root_user": true,
    "cache_optimization": true,
    "apt_packages": ["libpq-dev", "unixodbc-dev"]
  }
}
